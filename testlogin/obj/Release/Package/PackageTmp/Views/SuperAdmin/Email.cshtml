@using PagedList.Mvc;
@model PagedList.IPagedList<testlogin.EFModels.game_config_email>
@{
    ViewBag.Title = "邮件管理";
    Layout = "~/Views/SuperAdmin/_LayoutHTML5Page.cshtml";
    int i = 1;
}

<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">邮件管理</h1>
    </div>
    <!-- /.col-lg-12 -->
</div>

<div class="row">
    <div class="col-lg-6">
        <div class="panel panel-default">
            <div class="panel-heading">

            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <p>
                    <button type="button" class="btn btn-primary btn-lg btn-block" onclick="window.location.href='@Url.Action("EMCreate", "SuperAdmin")'">添加邮件</button>
                </p>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                邮件数据
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example">
                    <thead>
                        <tr>
                            <th>编号</th>
                            <th>标题</th>
                            <th>内容</th>
                            <th>类型</th>
                            <th>修改</th>
                            <th>删除</th>
                        </tr>
                    </thead>
                    <tbody>
            @foreach (var item1 in Model)
            {
                if (item1.id == 3)
                {
                    continue;
                }
                if (item1.detail.Length>10)
                {
                    item1.detail=item1.detail.Substring(0, 10);
                }

                        <tr class="gradeA">
                            <td>@item1.id</td>
                            <td >@item1.title</td>
                            <td >@item1.detail</td>
                            <td >@item1.type</td>
                            <td class="center">@Html.ActionLink("修改", "EMEdit", new { id = item1.id })</td>
                            <td class="center">@Html.ActionLink("删除", "EMDelete", new { id = item1.id }, new { onclick = " if (confirm('确定删除?') == false) return false ;" })</td>
                            
                        </tr>
                
            }
                    </tbody>
                </table>
                <!-- /.table-responsive -->
                
            </div>
        </div>
    </div>
</div>


@*<table>
    <tr>
        <th>id</th>
        <th>标题</th>
        <th>detail</th>
        <th>类型</th>
        <th>删除</th>
    </tr>
    @foreach (var item1 in Model)
    {
        <tr>
            <td>@item1.id</td>
            <td>@item1.title</td>
            <td>@item1.detail</td>
            <td>@item1.type</td>
            <td>@Html.ActionLink("删除", "EMDelete", new { id = item1.id })</td>

        </tr>
    }
    <tr>
        <th>@Html.ActionLink("添加", "EMCreate")</th>
        <th> 共 @Model.PageCount 页，当前第 @Model.PageNumber 页</th>
        <th>@Html.PagedListPager(Model, page => Url.Action("Email", "SuperAdmin", new { page }))</th>
        <th></th>
        <th></th>
    </tr>
</table>*@

